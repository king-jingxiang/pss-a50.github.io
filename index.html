<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PSS-A50 音色库 - Yamaha电子琴音色展示</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            animation: fadeInDown 1s ease-out;
        }

        .header h1 {
            font-size: 3rem;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2rem;
            color: rgba(255,255,255,0.9);
            margin-bottom: 20px;
        }

        .search-box {
            max-width: 400px;
            margin: 0 auto 30px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            background: white;
            box-shadow: 0 12px 40px rgba(0,0,0,0.15);
            transform: translateY(-2px);
        }

        .categories {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
        }

        .category-btn {
            padding: 10px 20px;
            border: 2px solid rgba(255,255,255,0.3);
            background: rgba(255,255,255,0.1);
            color: white;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            font-size: 0.9rem;
        }

        .category-btn:hover,
        .category-btn.active {
            background: rgba(255,255,255,0.2);
            border-color: rgba(255,255,255,0.6);
            transform: translateY(-2px);
        }

        .voices-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .voice-card {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
            animation: fadeInUp 0.6s ease-out;
            position: relative;
            overflow: hidden;
        }

        .voice-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .voice-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .voice-card.playing {
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }

        .voice-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .voice-number {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .voice-name {
            font-size: 1.3rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .voice-name-cn {
            font-size: 1rem;
            color: #666;
            margin-bottom: 10px;
        }

        .voice-midi {
            font-size: 0.9rem;
            color: #888;
            margin-bottom: 10px;
        }

        .voice-description {
            font-size: 0.95rem;
            color: #555;
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .voice-category {
            display: inline-block;
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
            margin-bottom: 15px;
        }

        .play-btn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .play-btn:hover {
            background: linear-gradient(135deg, #5a6fd8, #6a4190);
            transform: translateY(-2px);
        }

        .play-btn.playing {
            background: linear-gradient(135deg, #f093fb, #f5576c);
        }

        .play-icon {
            width: 0;
            height: 0;
            border-left: 8px solid white;
            border-top: 6px solid transparent;
            border-bottom: 6px solid transparent;
        }

        .play-icon.playing {
            width: 12px;
            height: 12px;
            border: 2px solid white;
            border-left: none;
            border-right: none;
        }

        .audio-player {
            width: 100%;
            margin-top: 10px;
            border-radius: 8px;
        }

        .stats {
            text-align: center;
            color: rgba(255,255,255,0.8);
            margin-top: 20px;
            font-size: 1.1rem;
        }

        .no-results {
            text-align: center;
            color: white;
            font-size: 1.2rem;
            margin: 40px 0;
            display: none;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }

        .voice-card.playing {
            animation: pulse 2s infinite;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .voices-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .categories {
                gap: 10px;
            }
            
            .category-btn {
                padding: 8px 16px;
                font-size: 0.8rem;
            }
        }

        .loading {
            text-align: center;
            color: white;
            font-size: 1.2rem;
            margin: 40px 0;
        }

        .loading::after {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>PSS-A50 音色库</h1>
            <p>Yamaha PSS-A50电子琴完整音色展示</p>
            <div class="search-box">
                <input type="text" class="search-input" placeholder="搜索音色名称、特点或风格..." id="searchInput">
            </div>
        </div>

        <div class="categories" id="categories">
            <button class="category-btn active" data-category="all">全部音色</button>
            <button class="category-btn" data-category="钢琴">钢琴</button>
            <button class="category-btn" data-category="风琴">风琴</button>
            <button class="category-btn" data-category="吉他">吉他</button>
            <button class="category-btn" data-category="贝斯">贝斯</button>
            <button class="category-btn" data-category="弦乐">弦乐</button>
            <button class="category-btn" data-category="木管">木管</button>
            <button class="category-btn" data-category="铜管">铜管</button>
            <button class="category-btn" data-category="合成音色">合成音色</button>
            <button class="category-btn" data-category="合成Pad">合成Pad</button>
            <button class="category-btn" data-category="管弦/其他">管弦/其他</button>
            <button class="category-btn" data-category="打击乐">打击乐</button>
        </div>

        <div class="loading" id="loading">正在加载音色数据...</div>
        <div class="no-results" id="noResults">没有找到匹配的音色</div>
        <div class="voices-grid" id="voicesGrid"></div>
        
        <div class="stats" id="stats"></div>
    </div>

    <script>
        // 音色数据 - 根据markdown表格生成
        const voicesData = [
            { category: "钢琴", name: "Grand Piano", nameCn: "平台钢琴", midi: 1, description: "典型的原声钢琴音色，适合各种曲风演奏", audioId: 1 },
            { category: "钢琴", name: "Electric Piano 1", nameCn: "电钢琴1", midi: 5, description: "电子音色，温暖、适合流行、R&B", audioId: 2 },
            { category: "钢琴", name: "Electric Piano 2", nameCn: "电钢琴2", midi: 6, description: "更明亮的电子音色，适合爵士和流行", audioId: 3 },
            { category: "钢琴", name: "Electric Grand Piano", nameCn: "平台电钢琴", midi: 3, description: "模拟电钢琴的混合音色，适合流行和电子风格", audioId: 4 },
            { category: "风琴", name: "Drawbar Organ", nameCn: "拉杆风琴", midi: 17, description: "经典摇滚/爵士风格，可调节音色管道", audioId: 5 },
            { category: "风琴", name: "Rock Organ", nameCn: "摇滚风琴", midi: 19, description: "摇滚风格，适合强烈伴奏", audioId: 6 },
            { category: "风琴", name: "Accordion", nameCn: "手风琴", midi: 22, description: "民俗风格，适合民谣演奏", audioId: 7 },
            { category: "风琴", name: "Harmonica", nameCn: "口琴", midi: 23, description: "模拟口琴音色，适合布鲁斯、乡村", audioId: 8 },
            { category: "吉他", name: "Nylon Guitar", nameCn: "尼龙弦吉他", midi: 25, description: "古典吉他音色，温暖柔和", audioId: 9 },
            { category: "吉他", name: "Steel Guitar", nameCn: "钢弦吉他", midi: 26, description: "明亮清脆，适合流行、民谣", audioId: 10 },
            { category: "吉他", name: "Jazz Guitar", nameCn: "爵士吉他", midi: 27, description: "圆润、温暖，适合爵士风格", audioId: 11 },
            { category: "吉他", name: "Clean Guitar", nameCn: "清音吉他", midi: 28, description: "清脆干净，适合多种风格", audioId: 12 },
            { category: "吉他", name: "Overdriven Guitar", nameCn: "超载吉他", midi: 30, description: "失真效果，适合摇滚、金属", audioId: 13 },
            { category: "贝斯", name: "Acoustic Bass", nameCn: "原声贝斯", midi: 33, description: "模拟原声贝斯音色，低频温暖", audioId: 14 },
            { category: "贝斯", name: "Finger Bass", nameCn: "指拨贝斯", midi: 34, description: "经典指弹贝斯，适合流行/摇滚", audioId: 15 },
            { category: "贝斯", name: "Slap Bass", nameCn: "拨弦贝斯", midi: 37, description: "拍弦风格，适合放克、节奏感强", audioId: 16 },
            { category: "贝斯", name: "Synth Bass", nameCn: "合成贝斯音色", midi: 39, description: "电子合成贝斯，适合电子、流行", audioId: 17 },
            { category: "弦乐", name: "Strings", nameCn: "弦乐", midi: 49, description: "传统弦乐音色，适合伴奏或合奏", audioId: 18 },
            { category: "弦乐", name: "Pizzicato Strings", nameCn: "拨弦弦乐", midi: 46, description: "短促拨弦效果，适合节奏型伴奏", audioId: 19 },
            { category: "弦乐", name: "Violin", nameCn: "小提琴", midi: 41, description: "单独小提琴音色，适合旋律演奏", audioId: 20 },
            { category: "弦乐", name: "Cello", nameCn: "大提琴", midi: 43, description: "温暖低沉，适合旋律或和声", audioId: 21 },
            { category: "弦乐", name: "Orchestral Harp", nameCn: "管弦竖琴", midi: 47, description: "模拟竖琴，适合装饰性演奏", audioId: 22 },
            { category: "木管", name: "Oboe", nameCn: "双簧管", midi: 69, description: "古典木管音色，清亮柔和", audioId: 23 },
            { category: "木管", name: "Clarinet", nameCn: "单簧管", midi: 72, description: "柔和，适合旋律演奏", audioId: 24 },
            { category: "木管", name: "Flute", nameCn: "长笛", midi: 74, description: "明亮，适合独奏或旋律", audioId: 25 },
            { category: "木管", name: "Tenor Sax", nameCn: "中音萨克斯风", midi: 67, description: "温暖浑厚，适合爵士、流行", audioId: 26 },
            { category: "铜管", name: "Brass Section", nameCn: "铜管整组", midi: 62, description: "丰富厚重，适合大编制乐队", audioId: 27 },
            { category: "铜管", name: "Trumpet", nameCn: "小号", midi: 57, description: "明亮，适合旋律突出", audioId: 28 },
            { category: "铜管", name: "Trombone", nameCn: "长号", midi: 58, description: "浑厚，适合伴奏或独奏", audioId: 29 },
            { category: "合成音色", name: "Gemini", nameCn: "双子座", midi: 83, description: "明亮电子音色，适合Lead旋律", audioId: 30 },
            { category: "合成音色", name: "Punchy Chordz", nameCn: "重拳和弦", midi: 85, description: "强调和弦的电子音色", audioId: 31 },
            { category: "合成音色", name: "Square Lead", nameCn: "方波主奏", midi: 81, description: "方波电子音色，适合主旋律", audioId: 32 },
            { category: "合成音色", name: "Sawtooth Lead", nameCn: "锯齿波主奏", midi: 82, description: "锯齿波音色，适合电子音乐", audioId: 33 },
            { category: "合成Pad", name: "New Age Pad", nameCn: "新世纪绵底", midi: 89, description: "轻柔、空灵，适合背景和声", audioId: 34 },
            { category: "合成Pad", name: "Warm Pad", nameCn: "温暖绵底", midi: 90, description: "温暖、厚实，适合流行或电子", audioId: 35 },
            { category: "合成Pad", name: "Brightness", nameCn: "亮音", midi: 101, description: "明亮清晰，适合氛围或和声", audioId: 36 },
            { category: "管弦/其他", name: "French Horn", nameCn: "法国号", midi: 61, description: "柔和圆润，适合管弦乐", audioId: 37 },
            { category: "管弦/其他", name: "Synth Brass", nameCn: "合成铜管音色", midi: 63, description: "电子合成铜管，适合现代风格", audioId: 38 },
            { category: "打击乐", name: "Standard Kit", nameCn: "标准鼓组", midi: 1, description: "典型电子鼓音色，适合通用节奏", audioId: 39 },
            { category: "打击乐", name: "Dance Kit", nameCn: "舞曲鼓组", midi: 28, description: "节奏感强，适合舞曲", audioId: 40 },
            { category: "打击乐", name: "Vibraphone", nameCn: "颤音琴", midi: 12, description: "清亮、金属感，适合独奏或装饰", audioId: 41 },
            { category: "打击乐", name: "Marimba", nameCn: "马林巴木琴", midi: 13, description: "温暖木质音色，适合旋律或伴奏", audioId: 42 }
        ];

        let currentAudio = null;
        let currentPlayingCard = null;

        // 初始化页面
        function init() {
            document.getElementById('loading').style.display = 'none';
            renderVoices(voicesData);
            updateStats(voicesData);
            setupEventListeners();
        }

        // 渲染音色卡片
        function renderVoices(voices) {
            const grid = document.getElementById('voicesGrid');
            grid.innerHTML = '';
            
            if (voices.length === 0) {
                document.getElementById('noResults').style.display = 'block';
                return;
            } else {
                document.getElementById('noResults').style.display = 'none';
            }

            voices.forEach((voice, index) => {
                const card = createVoiceCard(voice, index);
                grid.appendChild(card);
            });
        }

        // 创建音色卡片
        function createVoiceCard(voice, index) {
            const card = document.createElement('div');
            card.className = 'voice-card';
            card.style.animationDelay = `${index * 0.1}s`;
            card.dataset.category = voice.category;
            
            card.innerHTML = `
                <div class="voice-header">
                    <span class="voice-category">${voice.category}</span>
                    <div class="voice-number">${voice.audioId}</div>
                </div>
                <div class="voice-name">${voice.name}</div>
                <div class="voice-name-cn">${voice.nameCn}</div>
                <div class="voice-midi">MIDI编号: ${voice.midi}</div>
                <div class="voice-description">${voice.description}</div>
                <button class="play-btn" onclick="togglePlay(${voice.audioId}, this)">
                    <div class="play-icon"></div>
                    <span>试听音色</span>
                </button>
                <audio class="audio-player" preload="none">
                    <source src="audio/audio_${String(voice.audioId).padStart(3, '0')}.mp4" type="audio/mp4">
                    <source src="audio/audio_${String(voice.audioId).padStart(3, '0')}.mp3" type="audio/mpeg">
                    您的浏览器不支持音频播放。
                </audio>
            `;
            
            return card;
        }

        // 播放/暂停音频
        function togglePlay(audioId, button) {
            const audio = button.nextElementSibling;
            const card = button.closest('.voice-card');
            const icon = button.querySelector('.play-icon');
            const text = button.querySelector('span');
            
            // 如果当前有正在播放的音频，先停止它
            if (currentAudio && currentAudio !== audio) {
                currentAudio.pause();
                currentAudio.currentTime = 0;
                if (currentPlayingCard) {
                    currentPlayingCard.classList.remove('playing');
                    const prevButton = currentPlayingCard.querySelector('.play-btn');
                    const prevIcon = prevButton.querySelector('.play-icon');
                    const prevText = prevButton.querySelector('span');
                    prevButton.classList.remove('playing');
                    prevIcon.classList.remove('playing');
                    prevText.textContent = '试听音色';
                }
            }
            
            if (audio.paused) {
                audio.play();
                button.classList.add('playing');
                icon.classList.add('playing');
                text.textContent = '停止播放';
                card.classList.add('playing');
                currentAudio = audio;
                currentPlayingCard = card;
            } else {
                audio.pause();
                audio.currentTime = 0;
                button.classList.remove('playing');
                icon.classList.remove('playing');
                text.textContent = '试听音色';
                card.classList.remove('playing');
                currentAudio = null;
                currentPlayingCard = null;
            }
            
            // 音频播放结束时的处理
            audio.onended = function() {
                button.classList.remove('playing');
                icon.classList.remove('playing');
                text.textContent = '试听音色';
                card.classList.remove('playing');
                currentAudio = null;
                currentPlayingCard = null;
            };
        }

        // 设置事件监听器
        function setupEventListeners() {
            // 搜索功能
            const searchInput = document.getElementById('searchInput');
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const filteredVoices = voicesData.filter(voice => 
                    voice.name.toLowerCase().includes(searchTerm) ||
                    voice.nameCn.toLowerCase().includes(searchTerm) ||
                    voice.description.toLowerCase().includes(searchTerm) ||
                    voice.category.toLowerCase().includes(searchTerm)
                );
                renderVoices(filteredVoices);
                updateStats(filteredVoices);
            });

            // 分类筛选
            const categoryButtons = document.querySelectorAll('.category-btn');
            categoryButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    categoryButtons.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const category = this.dataset.category;
                    const filteredVoices = category === 'all' 
                        ? voicesData 
                        : voicesData.filter(voice => voice.category === category);
                    
                    renderVoices(filteredVoices);
                    updateStats(filteredVoices);
                });
            });
        }

        // 更新统计信息
        function updateStats(voices) {
            const stats = document.getElementById('stats');
            const categories = new Set(voices.map(v => v.category));
            stats.textContent = `显示 ${voices.length} 种音色，来自 ${categories.size} 个类别`;
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>